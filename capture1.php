<!DOCTYPE html>
<html>
<head>
	<title> Un test de capture</title>
</head>
<body>
		 <table class="table table-bordered table-hover table-responsive" style="color: white;">
                    <thead>
                        <tr>
                            <th style="text-align: center;" colspan="12">Schémas basals date 1</th>
                        </tr>
                        <tr>
                            <td style="text-align: center;" colspan="3">Schémas 1 (ex: semaine)</td>
                            <td style="text-align: center;" colspan="3">Schémas 2 (ex: week-end)</td>
                            <td style="text-align: center;" colspan="3">Schémas 3</td>
                            <td style="text-align: center;" colspan="3">Schémas 4</td>
                        </tr>
                        <tr>
                            <td style="text-align: center;">De</td>
                            <td style="text-align: center;">A</td>
                            <td style="text-align: center;">Débit (Ui/H) </td>
                            <td style="text-align: center;">De</td>
                            <td style="text-align: center;">A</td>
                            <td style="text-align: center;">Débit (Ui/H) </td>
                            <td style="text-align: center;">De</td>
                            <td style="text-align: center;">A</td>
                            <td style="text-align: center;">Débit (Ui/H) </td>
                            <td style="text-align: center;">De</td>
                            <td style="text-align: center;">A</td>
                            <td style="text-align: center;">Débit (Ui/H) </td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><input type="text" class="form-control" name="Horaire1" id="Horaire1" value="00:00" readonly></td>
                            <td><input type="text" class="form-control" name="Horaire1" id="Horaire1" readonly value="23:59"></td>
                            <td><input type="number" class="form-control" name="Debit1" id="Debit1"></td>
                            <td><input type="text" class="form-control" name="Horaire2" id="Horaire2" value="00:00" readonly></td>
                            <td><input type="text" class="form-control" name="Horaire1" id="Horaire1" readonly value="23:59"></td>
                            <td><input type="number" class="form-control" name="Debit2" id="Debit2"></td>
                            <td><input type="text" class="form-control" name="Horaire3" id="Horaire3" value="00:00" readonly></td>
                            <td><input type="text" class="form-control" name="Horaire1" id="Horaire1" readonly value="23:59"></td>
                            <td><input type="number" class="form-control" name="Debit3" id="Debit3"></td>
                            <td><input type="text" class="form-control" name="Horaire4" id="Horaire4" value="00:00" readonly></td>
                            <td><input type="text" class="form-control" name="Horaire1" id="Horaire1" readonly value="23:59"></td>
                            <td><input type="number" class="form-control" name="Debit4" id="Debit4"></td>
                        </tr>
                        <tr>
                            <td><input type="text" class="form-control" name="Horaire5" id="Horaire5" value="00:00" readonly></td>
                            <td><input type="text" class="form-control" name="Horaire1" id="Horaire1" readonly value="23:59"></td>
                            <td><input type="number" class="form-control" name="Debit5" id="Debit5"></td>
                            <td><input type="text" class="form-control" name="Horaire6" id="Horaire6" value="00:00" readonly></td>
                            <td><input type="text" class="form-control" name="Horaire1" id="Horaire1" readonly value="23:59"></td>
                            <td><input type="number" class="form-control" name="Debit6" id="Debit6"></td>
                            <td><input type="text" class="form-control" name="Horaire7" id="Horaire7" value="00:00" readonly></td>
                            <td><input type="text" class="form-control" name="Horaire1" id="Horaire1" readonly value="23:59"></td>
                            <td><input type="number" class="form-control" name="Debit7" id="Debit7"></td>
                            <td><input type="text" class="form-control" name="Horaire8" id="Horaire8" value="00:00" readonly></td>
                            <td><input type="text" class="form-control" name="Horaire1" id="Horaire1" readonly value="23:59"></td>
                            <td><input type="number" class="form-control" name="Debit8" id="Debit8"></td>
                        </tr>
                        <tr>
                            <td><input type="text" class="form-control" name="Horaire9" id="Horaire9" value="00:00" readonly></td>
                            <td><input type="text" class="form-control" name="Horaire1" id="Horaire1" readonly value="23:59"></td>
                            <td><input type="number" class="form-control" name="Debit9" id="Debit9"></td>
                            <td><input type="text" class="form-control" name="Horaire10" id="Horaire10" value="00:00" readonly></td>
                            <td><input type="text" class="form-control" name="Horaire1" id="Horaire1" readonly value="23:59"></td>
                            <td><input type="number" class="form-control" name="Debit10" id="Debit10"></td>
                            <td><input type="text" class="form-control" name="Horaire11" id="Horaire11" value="00:00" readonly></td>
                            <td><input type="text" class="form-control" name="Horaire1" id="Horaire1" readonly value="23:59"></td>
                            <td><input type="number" class="form-control" name="Debit11" id="Debit11"></td>
                            <td><input type="text" class="form-control" name="Horaire12" id="Horaire12" value="00:00" readonly></td>
                            <td><input type="text" class="form-control" name="Horaire1" id="Horaire1" readonly value="23:59"></td>
                            <td><input type="number" class="form-control" name="Debit12" id="Debit12"></td>
                        </tr>
                        <tr>
                            <td><input type="text" class="form-control" name="Horaire13" id="Horaire13" value="00:00" readonly></td>
                            <td><input type="text" class="form-control" name="Horaire1" id="Horaire1" readonly value="23:59"></td>
                            <td><input type="number" class="form-control" name="Debit13" id="Debit13"></td>
                            <td><input type="text" class="form-control" name="Horaire14" id="Horaire14" value="00:00" readonly></td>
                            <td><input type="text" class="form-control" name="Horaire1" id="Horaire1" readonly value="23:59"></td>
                            <td><input type="number" class="form-control" name="Debit14" id="Debit14"></td>
                            <td><input type="text" class="form-control" name="Horaire15" id="Horaire15" value="00:00" readonly></td>
                            <td><input type="text" class="form-control" name="Horaire1" id="Horaire1" readonly value="23:59"></td>
                            <td><input type="number" class="form-control" name="Debit15" id="Debit15"></td>
                            <td><input type="text" class="form-control" name="Horaire16" id="Horaire16" value="00:00" readonly></td>
                            <td><input type="text" class="form-control" name="Horaire1" id="Horaire1" readonly value="23:59"></td>
                            <td><input type="number" class="form-control" name="Debit16" id="Debit16"></td>
                        </tr>
                    </tbody>
                </table>

                  <div id="capture">
                            <h4>Histogrammes des débits suivant le Schémas basals date 2</h4>
                            <canvas id="bardate1" />
                 </div>
                 <button class="btn btn-primary btn-lg" id="pics">Générer image</button>
			                <!-- chart -->
			                </br>
</body>
<script src="jquery/jquery-2.1.4.min.js"></script>
 <script src="assets/js/Chart.min.js"></script>
 <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js"></script>
<script type="text/javascript">
	 					


                    var Debit1 = 0,
                            Debit2 = 0,
                            Debit3 = 0,
                            Debit4 = 0,
                            Debit5 = 0,
                            Debit6 = 0,
                            Debit7 = 0,
                            Debit8 = 0;
                    var Debit9 = 0,
                            Debit10 = 0,
                            Debit11 = 0,
                            Debit12 = 0,
                            Debit13 = 0,
                            Debit14 = 0,
                            Debit15 = 0,
                            Debit16 = 0;


	 					$("#Debit1").change(function (event) {
                            Debit1 = $('#Debit1').val();
                            Debit_graphe1(Debit1, Debit2, Debit3, Debit4, Debit5, Debit6, Debit7, Debit8, Debit9, Debit10, Debit11, Debit12, Debit13, Debit14, Debit15, Debit16);
                        });
                        $("#Debit2").change(function (event) {
                            Debit2 = $('#Debit2').val();
                            Debit_graphe1(Debit1, Debit2, Debit3, Debit4, Debit5, Debit6, Debit7, Debit8, Debit9, Debit10, Debit11, Debit12, Debit13, Debit14, Debit15, Debit16);
                        });
                        $("#Debit3").change(function (event) {
                            Debit3 = $('#Debit3').val();
                            Debit_graphe1(Debit1, Debit2, Debit3, Debit4, Debit5, Debit6, Debit7, Debit8, Debit9, Debit10, Debit11, Debit12, Debit13, Debit14, Debit15, Debit16);
                        });
                        $("#Debit4").change(function (event) {
                            Debit4 = $('#Debit4').val();
                            Debit_graphe1(Debit1, Debit2, Debit3, Debit4, Debit5, Debit6, Debit7, Debit8, Debit9, Debit10, Debit11, Debit12, Debit13, Debit14, Debit15, Debit16);
                        });
                        $("#Debit5").change(function (event) {
                            Debit5 = $('#Debit5').val();
                            Debit_graphe1(Debit1, Debit2, Debit3, Debit4, Debit5, Debit6, Debit7, Debit8, Debit9, Debit10, Debit11, Debit12, Debit13, Debit14, Debit15, Debit16);
                        });
                        $("#Debit6").change(function (event) {
                            Debit6 = $('#Debit6').val();
                            Debit_graphe1(Debit1, Debit2, Debit3, Debit4, Debit5, Debit6, Debit7, Debit8, Debit9, Debit10, Debit11, Debit12, Debit13, Debit14, Debit15, Debit16);
                        });
                        $("#Debit7").change(function (event) {
                            Debit7 = $('#Debit7').val();
                            Debit_graphe1(Debit1, Debit2, Debit3, Debit4, Debit5, Debit6, Debit7, Debit8, Debit9, Debit10, Debit11, Debit12, Debit13, Debit14, Debit15, Debit16);
                        });
                        $("#Debit8").change(function (event) {
                            Debit8 = $('#Debit8').val();
                            Debit_graphe1(Debit1, Debit2, Debit3, Debit4, Debit5, Debit6, Debit7, Debit8, Debit9, Debit10, Debit11, Debit12, Debit13, Debit14, Debit15, Debit16);
                        });
                        $("#Debit9").change(function (event) {
                            Debit9 = $('#Debit9').val();
                            Debit_graphe1(Debit1, Debit2, Debit3, Debit4, Debit5, Debit6, Debit7, Debit8, Debit9, Debit10, Debit11, Debit12, Debit13, Debit14, Debit15, Debit16);
                        });
                        $("#Debit10").change(function (event) {
                            Debit10 = $('#Debit10').val();
                            Debit_graphe1(DDebit1, Debit2, Debit3, Debit4, Debit5, Debit6, Debit7, Debit8, Debit9, Debit10, Debit11, Debit12, Debit13, Debit14, Debit15, Debit16);
                        });
                        $("#Debit11").change(function (event) {
                            Debit11 = $('#Debit11').val();
                            Debit_graphe1(Debit1, Debit2, Debit3, Debit4, Debit5, Debit6, Debit7, Debit8, Debit9, Debit10, Debit11, Debit12, Debit13, Debit14, Debit15, Debit16);
                        });
                        $("#Debit12").change(function (event) {
                            Debit12 = $('#Debit12').val();
                            Debit_graphe1(Debit1, Debit2, Debit3, Debit4, Debit5, Debit6, Debit7, Debit8, Debit9, Debit10, Debit11, Debit12, Debit13, Debit14, Debit15, Debit16);
                        });
                        $("#Debit13").change(function (event) {
                            Debit13 = $('#Debit13').val();
                            Debit_graphe1(Debit1, Debit2, Debit3, Debit4, Debit5, Debit6, Debit7, Debit8, Debit9, Debit10, Debit11, Debit12, Debit13, Debit14, Debit15, Debit16);
                        });
                        $("#Debit14").change(function (event) {
                            Debit14 = $('#Debit14').val();
                            Debit_graphe1(Debit1, Debit2, Debit3, Debit4, Debit5, Debit6, Debit7, Debit8, Debit9, Debit10, Debit11, Debit12, Debit13, Debit14, Debit15, Debit16);
                        });
                        $("#Debit15").change(function (event) {
                            Debit15 = $('#Debit15').val();
                            Debit_graphe1(Debit1, Debit2, Debit3, Debit4, Debit5, Debit6, Debit7, Debit8, Debit9, Debit10, Debit11, Debit12, Debit13, Debit14, Debit15, Debit16);
                        });
                        $("#Debit16").change(function (event) {
                            Debit16 = $('#Debit16').val();
                            Debit_graphe1(Debit1, Debit2, Debit3, Debit4, Debit5, Debit6, Debit7, Debit8, Debit9, Debit10, Debit11, Debit12, Debit13, Debit14, Debit15, Debit16);
                        });


                       function Debit_graphe1(Debit1, Debit2, Debit3, Debit4, Debit5, Debit6, Debit7, Debit8, Debit9, Debit10, Debit11, Debit12, Debit13, Debit14, Debit15, Debit16) {
                        var barData1 = {
                            labels: ["Schémas 1", "Schémas 2", "Schémas 3", "Schémas 4"],
                            datasets: [{
                                    fillColor: "rgba(220,220,220,0.5)",
                                    strokeColor: "rgba(220,220,220,0.8)",
                                    highlightFill: "rgba(220,220,220,0.75)",
                                    highlightStroke: "rgba(220,220,220,1)",
                                    data: [Debit1, Debit2, Debit3, Debit4]
                                }, {
                                    fillColor: "rgba(151,187,205,0.5)",
                                    strokeColor: "rgba(151,187,205,0.8)",
                                    highlightFill: "rgba(151,187,205,0.75)",
                                    highlightStroke: "rgba(151,187,205,1)",
                                    data: [Debit5, Debit6, Debit7, Debit8]
                                }, {
                                    fillColor: "rgba(11,187,25,0.5)",
                                    strokeColor: "rgba(11,187,25,0.8)",
                                    highlightFill: "rgba(11,187,25,0.75)",
                                    highlightStroke: "rgba(11,187,25,1)",
                                    data: [Debit9, Debit10, Debit11, Debit12]
                                }, {
                                    fillColor: "rgba(11,56,205,0.5)",
                                    strokeColor: "rgba(11,56,205,0.8)",
                                    highlightFill: "rgba(11,56,205,0.75)",
                                    highlightStroke: "rgba(11,56,205,1)",
                                    data: [Debit13, Debit14, Debit15, Debit16]
                                }]
                        }
                        var barOptions = {
                            responsive: true
                        }
                        var bardate01 = document.getElementById('bardate1').getContext('2d');
                        new Chart(bardate01).Bar(barData1, barOptions);
                    }
</script>
<script language="javascript">

$("#pics").click(function(event) {
	

$(document).ready(function() {
	var capture = {};
	var target = $('#capture');
	html2canvas(target, {
		onrendered: function(canvas) {
			capture.img = canvas.toDataURL( "image/png" );
			capture.data = { 'image' : capture.img };
			$.ajax({
			url: "ajax.php",
			data: capture.data,
			type: 'post',
			success: function( result ) {
					alert('image bien generer');
			}
			});
		}
	});
});
});
</script>
</html>